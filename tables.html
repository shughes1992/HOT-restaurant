<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>HOT Restaurant</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">
    <!-- Bootstrap Javascript and jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <div style="background-color: #de3636" class="jumbotron">
            <div class="row">
                <div class="col-md-12">
                    <h1 style="text-align: center; color: wheat">Hot n' Spicy
                            <span class="glyphicon glyphicon-cutlery" aria-hidden="true"></span>
                    </h1>

                    <p style="text-align: center;">
        
                        Current Rezzys n' Waitin' List
                    </p>

                </div>
                <div class="col-md-12" style="text-align: center">

                    <button type="button" class="btn btn-default btn-lg">
                        <span class="glyphicon glyphicon-glass" aria-hidden="true"></span>Make a Rezzy
                    </button>
                    <button type="button" class="btn btn-default btn-lg">
                        <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
                    </button>


                </div>
            </div>
        </div>


        <table class="table table-striped">
            <thead>
                <h2>Current Reservations</h2>
                <tr>
                    <th>Name</th>
                    <th>Phone #</th>
                    <th>Time</th>
                </tr>
            </thead>
            <tbody id="resbody">

            </tbody>
        </table>


        <table class="table table-striped">
            <thead>
                <h2>Waiting List</h2>
                <tr>
                    <th>Name</th>
                    <th>Phone #</th>
                    <th>Time</th>
                </tr>
            </thead>
            <tbody id="waitbody">



            </tbody>
        </table>

    </div>

    <script>

        $.get("/api/tables", function (data) {
            
            if (data.reservation[0] !== undefined) {

                for (var i = 0; i < data.reservation.length; i++) {
                    var displayTable = $("<tr>");
                    $("#resbody").append(`<th>${data.reservation[i].name} </th>`);
                    $("#resbody").append(`<th>${data.reservation[i].phone}</th>`);
                    $("#resbody").append(`<th>${data.reservation[i].time} </th></tr>`);
                }
            }
            if (data.waitList[0] !== undefined) {
                for (var i = 0; i < data.waitList.length; i++) {
                    var displayTable = $("<tr>");
                    $("#waitbody").append(`<th>${data.waitList.name}  </th>`);
                    $("#waitbody").append(`<th>${data.waitList.phone}</th>`);
                    $("#waitbody").append(`<th>${data.waitList.time} </th></tr>`);
                }
            }

        })

    </script>
</body>

</html>